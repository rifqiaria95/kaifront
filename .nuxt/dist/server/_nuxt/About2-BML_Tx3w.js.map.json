{"file":"About2-BML_Tx3w.js","mappings":"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","names":["_ssrRenderAttr","_unref","_ssrInterpolate"],"sources":["../../../../virtual:public?%2Fimages%2Fabout%2Fabout-dott.png","../../../../stores/about.ts","../../../../utils/stripHtml.ts","../../../../components/About2.vue"],"sourcesContent":["import { publicAssetsURL } from '#internal/nuxt/paths';export default publicAssetsURL(\"/images/about/about-dott.png\")","import { defineStore } from 'pinia'\r\n\r\ninterface AboutData {\r\n  id         : string\r\n  title      : string\r\n  subtitle   : string\r\n  description: string\r\n  image      : string\r\n  video      : string\r\n  address    : string\r\n  phone      : string\r\n  email      : string\r\n  facebook   : string\r\n  instagram  : string\r\n  twitter    : string\r\n  tiktok     : string\r\n  youtube    : string\r\n  created_at : string\r\n  updated_at : string\r\n}\r\n\r\nexport const useAboutStore = defineStore('about', {\r\n  state: () => ({\r\n    aboutData: null as AboutData | null,\r\n    loading: false,\r\n    error: null as string | null,\r\n  }),\r\n\r\n  getters: {\r\n    getAboutData: (state) => state.aboutData,\r\n    isLoading: (state) => state.loading,\r\n    hasError: (state) => state.error,\r\n  },\r\n\r\n  actions: {\r\n    async fetchAboutData() {\r\n      this.loading = true\r\n      this.error = null\r\n      \r\n      try {\r\n        const { $api } = useNuxtApp()\r\n        \r\n        // Fallback jika $api tidak tersedia\r\n        let apiUrl\r\n        if ($api) {\r\n          apiUrl = $api.about()\r\n        } else {\r\n          apiUrl = 'http://localhost:8000/api/about'\r\n        }\r\n        \r\n        const response = await $fetch<AboutData[] | AboutData>(apiUrl, {\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n          }\r\n        })\r\n        \r\n        // Validasi response\r\n        if (!response) {\r\n          throw new Error('Response kosong dari server')\r\n        }\r\n        \r\n        // Jika response adalah array, ambil item pertama\r\n        if (Array.isArray(response) && response.length > 0) {\r\n          this.aboutData = response[0]\r\n        } else if (typeof response === 'object') {\r\n          this.aboutData = response as AboutData\r\n        } else {\r\n          throw new Error('Format response tidak valid')\r\n        }\r\n      } catch (error) {\r\n        const errorMessage = error instanceof Error ? error.message : 'Unknown error'\r\n        this.error = `Gagal memuat data about: ${errorMessage}`\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n\r\n    clearError() {\r\n      this.error = null\r\n    }\r\n  }\r\n})\r\n","/**\r\n * Menghapus semua tag HTML dari string\r\n * @param html - String yang mengandung HTML tags\r\n * @returns String tanpa HTML tags\r\n */\r\nexport function stripHtml(html: string): string {\r\n  if (!html) return ''\r\n  \r\n  // Membuat temporary div element untuk parsing HTML\r\n  const tempDiv = document.createElement('div')\r\n  tempDiv.innerHTML = html\r\n  \r\n  // Ambil text content saja (tanpa HTML tags)\r\n  return tempDiv.textContent || tempDiv.innerText || ''\r\n}\r\n\r\n/**\r\n * Menghapus HTML tags menggunakan regex (alternatif untuk server-side)\r\n * @param html - String yang mengandung HTML tags  \r\n * @returns String tanpa HTML tags\r\n */\r\nexport function stripHtmlRegex(html: string): string {\r\n  if (!html) return ''\r\n  \r\n  return html\r\n    .replace(/<[^>]*>/g, '') // Hapus semua HTML tags\r\n    .replace(/&nbsp;/g, ' ') // Replace &nbsp; dengan space\r\n    .replace(/&amp;/g, '&')  // Replace &amp; dengan &\r\n    .replace(/&lt;/g, '<')   // Replace &lt; dengan <\r\n    .replace(/&gt;/g, '>')   // Replace &gt; dengan >\r\n    .replace(/&quot;/g, '\"') // Replace &quot; dengan \"\r\n    .replace(/&#39;/g, \"'\")  // Replace &#39; dengan '\r\n    .trim() // Hapus whitespace di awal dan akhir\r\n}\r\n\r\n/**\r\n * Membersihkan text dan membatasi panjang karakter\r\n * @param html - String yang mengandung HTML tags\r\n * @param maxLength - Panjang maksimal karakter (optional)\r\n * @returns String bersih dengan panjang terbatas\r\n */\r\nexport function cleanText(html: string, maxLength?: number): string {\r\n  const cleanedText = stripHtmlRegex(html)\r\n  \r\n  if (maxLength && cleanedText.length > maxLength) {\r\n    return cleanedText.substring(0, maxLength).trim() + '...'\r\n  }\r\n  \r\n  return cleanedText\r\n} ","<template>\r\n  <div id=\"about\" class=\"about-area mt-170 mb-105\">\r\n    <div class=\"about-content-wrapper position-relative\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div\r\n            class=\"col-xl-6 col-lg-6 col-md-12 offset-md-0 col-sm-11 offset-sm-1 col-12\"\r\n          >\r\n            <div class=\"about-img-wrapper position-relative mb-100\">\r\n              <div\r\n                class=\"about-img position-relative z-index11\"\r\n                data-aos=\"fade-right\"\r\n                data-aos-duration=\"2000\"\r\n                data-aos-delay=\"100\"\r\n              >\r\n                <div\r\n                  class=\"about-img-over over-hidden z-index11 pl-50 transition5 d-inline-block position-relative\"\r\n                >\r\n                  <img\r\n                    class=\"img-grayscale border-radius12 position-relative z-index11 tilt\"\r\n                    :src=\"imageUrl\"\r\n                    :alt=\"aboutData?.title ? cleanText(aboutData.title) : 'About Image'\"\r\n                    @error=\"handleImageError\"\r\n                    @load=\"handleImageLoad\"\r\n                  />\r\n                  <!-- Debug info untuk image -->\r\n                  <div v-if=\"imageError\" class=\"mt-2 p-2 bg-warning text-dark small\">\r\n                    <strong>Image Debug:</strong><br>\r\n                    Image Path: {{ aboutData?.image || 'null' }}<br>\r\n                    Expected Location: http://localhost:8000/images/{{ aboutData?.image || 'null' }}<br>\r\n                    <button @click=\"imageError = false\" class=\"btn btn-sm btn-outline-warning mt-1\">\r\n                      Hide Debug\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- /about-img -->\r\n              <div\r\n                class=\"about-color-shape-bg position-absolute z-index1\"\r\n                data-aos=\"fade-right\"\r\n                data-aos-duration=\"2000\"\r\n                data-aos-delay=\"800\"\r\n              ></div>\r\n              <div\r\n                class=\"about-shape-dotted secondary-bg position-absolute z-index-1\"\r\n                data-aos=\"fade-right\"\r\n                data-aos-duration=\"2000\"\r\n                data-aos-delay=\"1000\"\r\n              >\r\n                <img src=\"/images/about/about-dott.png\" alt=\"\" />\r\n              </div>\r\n            </div>\r\n            <!-- /about-img-wrapper -->\r\n          </div>\r\n          <!-- /col -->\r\n          <div class=\"col-xl-6 col-lg-6 col-md-12 col-sm-12 col-12\">\r\n            <!-- Loading State -->\r\n            <div v-if=\"loading\" class=\"about-content position-relative mb-50 text-center\">\r\n              <div class=\"spinner-border text-primary\" role=\"status\">\r\n                <span class=\"sr-only\">Loading...</span>\r\n              </div>\r\n              <p class=\"mt-3\">Memuat data about...</p>\r\n            </div>\r\n\r\n            <!-- Error State -->\r\n            <div v-else-if=\"error\" class=\"about-content position-relative mb-50\">\r\n              <div class=\"alert alert-danger\" role=\"alert\">\r\n                <h4 class=\"alert-heading\">Error!</h4>\r\n                <p>{{ error }}</p>\r\n                <div class=\"mt-3\">\r\n                  <button class=\"btn btn-sm btn-outline-danger me-2\" @click=\"aboutStore.fetchAboutData()\">\r\n                    Coba Lagi\r\n                  </button>\r\n                  <button class=\"btn btn-sm btn-outline-secondary\" @click=\"aboutStore.clearError()\">\r\n                    Tutup Error\r\n                  </button>\r\n                </div>\r\n                <div class=\"mt-3\">\r\n                  <small class=\"text-muted\">\r\n                    About Data: {{ aboutData ? 'Loaded' : 'Not loaded' }}\r\n                  </small>\r\n                  <br>\r\n                  <small class=\"text-muted\">\r\n                    Loading: {{ loading ? 'Yes' : 'No' }}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <!-- Content -->\r\n            <div v-else class=\"about-content position-relative mb-50\">\r\n              <div class=\"position-relative\">\r\n                <div class=\"title\">\r\n                  <span class=\"theme-color text-uppercase d-block mb-1 mt--5\"\r\n                    >{{ aboutData?.title ? cleanText(aboutData.title) : 'About Me' }}</span\r\n                  >\r\n                  <h2 class=\"mb-30\">{{ aboutData?.subtitle ? cleanText(aboutData.subtitle) : 'About Me' }}</h2>\r\n                </div>\r\n                <!-- /title -->\r\n              </div>\r\n              <p class=\"mb-25\" v-if=\"aboutData?.description\">\r\n                {{ cleanText(aboutData.description) }}\r\n              </p>\r\n              <p class=\"mb-25\" v-else>\r\n                Excepteur sint occaecat cupidatat non proident, sunt in culpa\r\n                qui officia dese runt mollit anim id est laboru doloremque\r\n                laudantium, totaeaque ipsa quae ab illo inven tore veritatis et\r\n                quasi architecto beatae vitae.\r\n              </p>\r\n              <p v-else>Oremque laudantium, totaeaque ipsa quae</p>\r\n              <div class=\"about-info-wrapper pt-25 pb-20 mt-25\">\r\n                <div class=\"row\">\r\n                  <div class=\"col-xl-6 col-lg-12 col-md-6 col-sm-12 col-12\">\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Name:</span>\r\n                      <span class=\"value\">Selly Andriany Gantina</span>\r\n                    </div>\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Age:</span>\r\n                      <span class=\"value\">29 Years</span>\r\n                    </div>\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Occupation:</span>\r\n                      <span class=\"value\">System Engineer</span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-xl-6 col-lg-12 col-md-6 col-sm-12 col-12\">\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Phone:</span>\r\n                      <span class=\"value\">{{ aboutData?.phone || '081210396214' }}</span>\r\n                    </div>\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Email:</span>\r\n                      <span class=\"value\">{{ aboutData?.email || 'rbenity@gmail.com' }}</span>\r\n                    </div>\r\n                    <div class=\"about-info-item mb-3\">\r\n                      <span class=\"label\">Nationality:</span>\r\n                      <span class=\"value\">Indonesian</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <!-- /about-info-wrapper -->\r\n              <div\r\n                class=\"about-footer-content d-sm-flex align-items-center mt-lg-2 mt-sm-4 mt-3\"\r\n              >\r\n                <div class=\"signature pt-12 pr-45\">\r\n                  <img :src=\"signature\" alt=\"\" />\r\n                </div>\r\n                <div class=\"about-footer-content-right mt-20 text-left\">\r\n                  <h6 class=\"d-xl-inline-block text-uppercase pr5 mb-0\">\r\n                    SELLY ANDRIANY GANTINA\r\n                  </h6>\r\n                  <span class=\"openS-font-family meta-text-color\"\r\n                    >Anggota Dewan Perwakilan Rakyat RI 2024-2029.</span\r\n                  >\r\n                </div>\r\n              </div>\r\n              <!-- /about-footer-content -->\r\n            </div>\r\n            <!-- /about-content -->\r\n          </div>\r\n          <!-- /col -->\r\n        </div>\r\n        <!-- /row -->\r\n      </div>\r\n      <!-- /container -->\r\n    </div>\r\n    <!-- /about-wrapper -->\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useAboutStore } from '~/stores/about'\r\nimport { cleanText } from '~/utils/stripHtml'\r\n\r\ndefineProps({\r\n  signature: {\r\n    type: String,\r\n    default: \"/images/about/signature.png\",\r\n  },\r\n})\r\n\r\n// Store\r\nconst aboutStore = useAboutStore()\r\n\r\n// State untuk image error handling\r\nconst imageError = ref(false)\r\n\r\n// Computed\r\nconst aboutData = computed(() => aboutStore.getAboutData)\r\nconst loading = computed(() => aboutStore.isLoading)\r\nconst error = computed(() => aboutStore.hasError)\r\n\r\n// Computed untuk image URL\r\nconst imageUrl = computed(() => {\r\n  return getImageUrl(aboutData.value?.image)\r\n})\r\n\r\n// Functions\r\nconst { $api } = useNuxtApp()\r\n\r\nconst getImageUrl = (imagePath) => {\r\n  // Jika imagePath undefined atau null, langsung return default\r\n  if (!imagePath) {\r\n    return '/images/about/about-img.jpg'\r\n  }\r\n  \r\n  // Pastikan $api tersedia (untuk SSR)\r\n  if (!$api) {\r\n    // Jika image path sudah full URL\r\n    if (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\r\n      return imagePath\r\n    }\r\n    \r\n    // Jika image path dimulai dengan slash, gunakan sebagai path relatif\r\n    if (imagePath.startsWith('/')) {\r\n      return imagePath\r\n    }\r\n    \r\n    // Fallback ke default storage base\r\n    return `http://localhost:8000/images/${imagePath}`\r\n  }\r\n  \r\n  return $api.getImageUrl(imagePath)\r\n}\r\n\r\nconst handleImageError = (event) => {\r\n  imageError.value = true\r\n  \r\n  // Coba fallback ke default image jika bukan default image yang gagal\r\n  const img = event.target\r\n  if (!img.src.includes('about-img.jpg')) {\r\n    img.src = '/images/about/about-img.jpg'\r\n  }\r\n}\r\n\r\nconst handleImageLoad = (event) => {\r\n  imageError.value = false\r\n}\r\n\r\n// Fetch data saat komponen di-mount\r\nonMounted(async () => {\r\n  if (!aboutData.value) {\r\n    await aboutStore.fetchAboutData()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.about-info-item {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.about-info-item .value {\r\n  font-weight: normal;\r\n  color: #666;\r\n  flex: 1;\r\n  word-wrap: break-word;\r\n  line-height: 1.4;\r\n}\r\n\r\n.about-info-item .label {\r\n  font-weight: bold;\r\n  color: #333;\r\n  min-width: 100px;\r\n  margin-right: 15px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* Memastikan alignment yang tepat */\r\n.about-info-wrapper {\r\n  margin-top: 30px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.about-info-wrapper .row {\r\n  align-items: flex-start;\r\n}\r\n\r\n.about-info-wrapper .col-xl-6 {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n}\r\n</style>\r\n"],"version":3}